<div class="navbar d-flex top align-center">
    <button *ngIf="(ui$|async).collapsedMenu" class="btn icon invert-on-dark icon" (click)="toggleSidebar()">
        <svg height="16px" viewBox="0 0 16 16" width="16px" xmlns="http://www.w3.org/2000/svg">
            <g fill="fillColor">
                <path d="m 1 2 h 14 v 2 h -14 z m 0 0" />
                <path d="m 1 7 h 14 v 2 h -14 z m 0 0" />
                <path d="m 1 12 h 14 v 2 h -14 z m 0 0" />
            </g>
        </svg>
    </button>
    <ng-container *ngIf="(users$|async).pal as pal">
        <div class="btn d-flex align-center gap-1 pad-1 flex-grow" >
            <img class="user-image" src="/resources/pictures/{{pal.pictureName}}" alt="">
            <span>{{pal.username}}</span>
        </div>
        <button class="btn btn-accent  icon" [disabled]="(!pal.isOnline)||pal.isBusy">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">
                <path d="M10.994 2c-.554 0-1 .446-1 1v3c0 .554.446 1 1 1h.711a6.972 6.972 0 01-4.71 4.71V11c0-.554-.447-1-1-1h-3c-.555 0-1 .446-1 1v1.5a2.5 2.5 0 002.5 2.5h.5c5.504 0 10-4.495 10-10v-.5a2.5 2.5 0 00-2.5-2.5z" style="line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;text-orientation:mixed;shape-padding:0;isolation:auto;mix-blend-mode:normal;marker:none" color="#000" font-weight="400" font-family="sans-serif" overflow="visible" fill="fillColor"/>
            </svg>
        </button>
    </ng-container >
   
</div>
<div class="messages">
    <div class="container d-flex column gap-1 pad-1 nowrap" style="overflow-y: scroll;" #container>
        <div *ngFor="let message of (chat$|async); trackBy: trackByUUID" class="message"
            [class.pal]="(users$|async).pal.uuid == message.from">
            <img class="user-image" src="/resources/pictures/{{(users$|async)[message.from].pictureName}}" alt="">
            <div class="bg-content round-corners pad-1 text-break">
                {{message.text}}
            </div>
        </div>

    </div>
   
      

</div>
<div class="navbar box-content bottom d-flex justify-center align-center gap-1">
    <textarea #textarea [formControl]="textField" style="resize: none;" class="input dark-contrast-fix flex-grow"
        (keydown.enter)="sendMessage(); $event.preventDefault()">
    </textarea>
    <button class="btn icon invert-on-dark" [disabled]="textField.invalid" (click)="sendMessage()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">
            <g fill="#2e3436">
                <path d="M16 2L0 7l3.5 2.656L14.563 2.97 5.25 10.656l4.281 3.156z" />
                <path d="M3 8.5v6.102l2.83-2.475-.66-.754L4 12.396V8.5z"
                    style="line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000;text-transform:none;text-orientation:mixed;shape-padding:0;isolation:auto;mix-blend-mode:normal"
                    color="#000" font-weight="400" font-family="sans-serif" overflow="visible" fill-rule="evenodd" />
            </g>
        </svg>
    </button>
</div>